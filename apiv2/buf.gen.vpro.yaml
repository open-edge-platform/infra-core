---
# SPDX-FileCopyrightText: (C) 2025 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

# buf.gen.yaml
# docs: https://docs.buf.build/configuration/v1/buf-gen-yaml

version: v1

plugins:
  # go install github.com/sudorandom/protoc-gen-connect-openapi@v0.17.0
  - name: connect-openapi
    path: protoc-gen-connect-openapi
    out: api/openapi/vpro
    strategy: all
    opt:
      - format=yaml
      - short-service-tags
      - short-operation-ids
      - path=openapi.yaml

  # docs - https://github.com/pseudomuto/protoc-gen-doc
  - plugin: doc
    out: docs/vpro
    opt: markdown,proto.md
    strategy: all
