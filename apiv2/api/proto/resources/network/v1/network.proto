// SPDX-FileCopyrightText: (C) 2025 Intel Corporation
// SPDX-License-Identifier: Apache-2.0

syntax = "proto3";

package resources.network.v1;

import "google/api/field_behavior.proto";
import "resources/common/v1/common.proto";
import "resources/location/v1/location.proto";
import "buf/validate/validate.proto";

option go_package = "github.com/open-edge-platform/infra-core/apiv2/v2/internal/pbapi/resources/network/v1;networkv1";

enum IPAddressState {
  IP_ADDRESS_STATE_UNSPECIFIED = 0;
  IP_ADDRESS_STATE_ERROR = 1;
  IP_ADDRESS_STATE_ASSIGNED = 2;
  IP_ADDRESS_STATE_CONFIGURED = 3;
  IP_ADDRESS_STATE_RELEASED = 4;
  IP_ADDRESS_STATE_DELETED = 5;
}

enum IPAddressStatus {
  IP_ADDRESS_STATUS_UNSPECIFIED = 0;
  IP_ADDRESS_STATUS_ASSIGNMENT_ERROR = 1;
  IP_ADDRESS_STATUS_ASSIGNED = 2;
  IP_ADDRESS_STATUS_CONFIGURATION_ERROR = 3;
  IP_ADDRESS_STATUS_CONFIGURED = 4;
  IP_ADDRESS_STATUS_RELEASED = 5;
  IP_ADDRESS_STATUS_ERROR = 6;
}

enum IPAddressConfigMethod {
  IP_ADDRESS_CONFIG_METHOD_UNSPECIFIED = 0;
  IP_ADDRESS_CONFIG_METHOD_STATIC = 1;
  IP_ADDRESS_CONFIG_METHOD_DYNAMIC = 2;
}

message IPAddressResource {
  // Resource ID, generated by Inventory on Create
  string resource_id = 1 [
    (google.api.field_behavior) = OUTPUT_ONLY,  
    (buf.validate.field).string = {
      pattern: "^ipaddr-[0-9a-f]{8}$"
      max_len: 15
    }
  ];
  // CIDR representation of the IP address.
  string address = 2 [(google.api.field_behavior) = OUTPUT_ONLY];
  // The status of the IP address.
  IPAddressStatus status = 7 [(google.api.field_behavior) = OUTPUT_ONLY];
  // User-friendly status to provide details about the resource state
  string status_detail = 8 [(google.api.field_behavior) = OUTPUT_ONLY];
  // Specifies how the IP address is configured.
  IPAddressConfigMethod config_method = 9 [(google.api.field_behavior) = OUTPUT_ONLY];
  // Timestamps associated to the resource.
  resources.common.v1.Timestamps timestamps = 50100 [(google.api.field_behavior) = OUTPUT_ONLY];
}
