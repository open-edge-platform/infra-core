-- Create "custom_config_resources" table
CREATE TABLE "custom_config_resources" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "resource_id" character varying NOT NULL, "name" character varying NOT NULL, "config" character varying NOT NULL, "description" character varying NULL, "tenant_id" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, PRIMARY KEY ("id"));
-- Create index "custom_config_resources_resource_id_key" to table: "custom_config_resources"
CREATE UNIQUE INDEX "custom_config_resources_resource_id_key" ON "custom_config_resources" ("resource_id");
-- Create index "customconfigresource_name_tenant_id" to table: "custom_config_resources"
CREATE UNIQUE INDEX "customconfigresource_name_tenant_id" ON "custom_config_resources" ("name", "tenant_id");
-- Create index "customconfigresource_tenant_id" to table: "custom_config_resources"
CREATE INDEX "customconfigresource_tenant_id" ON "custom_config_resources" ("tenant_id");
-- Create "custom_config_resource_instances" table
CREATE TABLE "custom_config_resource_instances" ("custom_config_resource_id" bigint NOT NULL, "instance_resource_id" bigint NOT NULL, PRIMARY KEY ("custom_config_resource_id", "instance_resource_id"), CONSTRAINT "custom_config_resource_instances_custom_config_resource_id" FOREIGN KEY ("custom_config_resource_id") REFERENCES "custom_config_resources" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "custom_config_resource_instances_instance_resource_id" FOREIGN KEY ("instance_resource_id") REFERENCES "instance_resources" ("id") ON UPDATE NO ACTION ON DELETE CASCADE);
