-- Create "hostdevice_resources" table
CREATE TABLE "hostdevice_resources" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "resource_id" character varying NOT NULL, "kind" character varying NULL, "version" character varying NULL, "device_name" character varying NULL, "operational_state" character varying NULL, "build_number" character varying NULL, "sku" character varying NULL, "features" character varying NULL, "device_guid" character varying NULL, "control_mode" character varying NULL, "dns_suffix" character varying NULL, "network_status" character varying NULL, "remote_status" character varying NULL, "remote_trigger" character varying NULL, "mps_hostname" character varying NULL, "tenant_id" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, PRIMARY KEY ("id"));
-- Create index "hostdevice_resources_device_guid_key" to table: "hostdevice_resources"
CREATE UNIQUE INDEX "hostdevice_resources_device_guid_key" ON "hostdevice_resources" ("device_guid");
-- Create index "hostdevice_resources_resource_id_key" to table: "hostdevice_resources"
CREATE UNIQUE INDEX "hostdevice_resources_resource_id_key" ON "hostdevice_resources" ("resource_id");
-- Create index "hostdeviceresource_tenant_id" to table: "hostdevice_resources"
CREATE INDEX "hostdeviceresource_tenant_id" ON "hostdevice_resources" ("tenant_id");
-- Modify "host_resources" table
ALTER TABLE "host_resources" ADD COLUMN "hostdevice_resource_host" bigint NULL, ADD CONSTRAINT "host_resources_hostdevice_resources_host" FOREIGN KEY ("hostdevice_resource_host") REFERENCES "hostdevice_resources" ("id") ON UPDATE NO ACTION ON DELETE SET NULL;
-- Create index "host_resources_hostdevice_resource_host_key" to table: "host_resources"
CREATE UNIQUE INDEX "host_resources_hostdevice_resource_host_key" ON "host_resources" ("hostdevice_resource_host");
